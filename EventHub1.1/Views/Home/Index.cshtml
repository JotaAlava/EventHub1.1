@*<div class="jumbotron">
        <h1>ASP.NET</h1>
        <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS, and JavaScript.</p>
        <p><a href="http://asp.net" class="btn btn-primary btn-large">Learn more &raquo;</a></p>
    </div>*@
<div class="row">
    @*<div class="col-md-4">
            <h2>Getting started</h2>
            <p>
                ASP.NET Web API is a framework that makes it easy to build HTTP services that reach
                a broad range of clients, including browsers and mobile devices. ASP.NET Web API
                is an ideal platform for building RESTful applications on the .NET Framework.
            </p>
            <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301870">Learn more &raquo;</a></p>
        </div>*@
    <div class="col-md-12">
        <h2 style="text-align:right;">Posting a Location</h2>

        <form data-bind="submit: doSomething" style="text-align:right">
            Name: <input type="text" name="name"><br>
            Address: <input type="text" name="address"><br>
            Active <input type="checkbox" name="active">
            <br /><br>
            <button type="submit" style="color:blue;">Submit</button>
            <br><br>
        </form>
    </div>

    @*<button data-bind="click: incrementClickCounter">Click me</button>*@

    <div id="sport" class="col-md-12">
        <div data-bind="template: { name: 'locationsTempl' }"></div>
    </div>
        <script id="locationsTempl" type="text/html">
            
            <div data-bind="foreach: locations">
                <div data-bind="attr: { id : 'sportName_' + id() }, click: $root.hideDetails " class="well">
                    <h3>Name: <strong data-bind="text: name"></strong></h3>

                    <ul data-bind="attr: { id : 'sportDetails_' + id() }">
                        <li>
                            <div>Id: <strong data-bind="text: id"></strong></div>
                            <div>Address: <strong data-bind="text: address"></strong></div>
                            <div>Active: <strong data-bind="text: active"></strong></div>
                        </li>
                        <button data-bind="attr: { id : id }" style="color:blue;">Delete</button>
                    </ul>
                </div>
            </div>
        </script>
</div>

<!-- This will move these codes to ze layout page -->
@section scripts
{
    <script>
        require(["ViewModels/Location", "ViewModels/Locations"], function (locationViewModel, locationsViewModel) {
            var data;
            // Call to get one location
            $('#locationGET').click(function () {
                $.ajax({
                    url: "http://localhost:29196/location/1",
                    context: document.body
                }).done(function (data) {
                    var location = new locationViewModel(data);
                    ko.applyBindings(location);
                });
            });

            $('#locationGETActive').click(function () {
                $.ajax({
                    url: "http://localhost:29196/location/",
                    context: document.body
                }).done(function (data) {

                    // Overall viewmodel for this screen, along with initial state
                    activeLocations = new locationsViewModel(data);
                });
            });

            // Call to get all active locations
            $(document).ready(function () {
                $.ajax({
                    url: "http://localhost:29196/location/",
                    context: document.body
                }).done(function (data) {

                    // Overall viewmodel for this screen, along with initial state
                    activeLocations = new locationsViewModel(data);

                    ko.applyBindings(activeLocations);

                });
            });

                
            

            //$('div[id^="sportDetails_"]').click(function () {
            //    alert('a')
            //    $('#sportDetails').toggle();
            //})



            //$('#postLocation').click(function () {
            //    $.ajax({
            //        url: "http://localhost:29196/location/",
            //        context: document.body,
            //        type: 'POST',
            //        data: "name:Jota"
            //    });
            //})
        });
    </script>
}
